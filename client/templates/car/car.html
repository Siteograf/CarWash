<template name="carList">
    <h1>Cars</h1>

    {{> insertCarForm}}

    <hr >


    <table class="table table-bordered">
        {{#each cars}}
            {{> car}}
        {{/each}}
    </table>

    {{> carEditForm}}
</template>

<template name="insertCarForm">
    {{> quickForm
    collection="Cars"
    id="insertCarForm"
    type="insert"
    template="bootstrap3-horizontal"
    class="form-inline"
    }}
</template>


<template name="updateCarForm">
    {{> quickForm collection="Cars"
    id="updateCarForm"
    doc=currentCar
    type="update"
    }}
</template>

<template name="afPanel">
    <div class="panel panel-default">
        {{#with afFieldLabelText name=this.name}}
            <div class="panel-heading">
                <h1 class="panel-title">{{this}}</h1>
            </div>
        {{/with}}
        <div class="panel-body">
            {{> Template.contentBlock}}
        </div>
    </div>
</template>

<template name="car">
    <tr class="{{#if checked}}checked{{/if}}">
        <td><input type="checkbox" checked="{{checked}}" class="toggle-checked"/></td>
        <td>
            <div class="colorPrew" style="background-color:{{color.colorCode}}"></div>
            {{make}} {{model}}</td>
        <td>{{plate}}</td>
        <td></td>
        <td></td>
        <td></td>
        <td><a href="{{pathFor 'carPage'}}">Show</a>
            <a class="editCar" car-id="{{_id}}" href="#">Edit</a>
            Delete
        </td>

    </tr>
</template>


<template name="carPage">
    {{_id}}
    <h1>{{make}} {{model}} - {{plate}}</h1>
</template>


<template name="newCarForm">
    <form class="new-car form-inline">
        <div class="form-group">
            <input class="form-control" type="text" name="make" placeholder="Make">
            <input class="form-control" type="text" name="model" placeholder="Model">
            <input class="form-control" type="text" name="plate" placeholder="Plate">
            {{> colorSelect}}
            <input class="btn btn-primary" type="submit" value="Submit"/>
        </div>
    </form>
    <hr>
</template>

<template name="colorSelect">
    <select name="idColor" id="idColor" class="form-control custom-select idColor">
        {{#each colors}}
            <option value="{{_id}}">{{colorName}}</option>
        {{/each}}
    </select>
</template>

<template name="carEditForm">
    <div class="modal fade" id="editCar">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title">Car {{car._id}}</h4>
                </div>
                <div class="modal-body">

                    {{>updateCarForm}}

                    <!--<form class="edit-car">-->
                    <!--<div class="row">-->
                    <!--<div class="col-md-6">-->
                    <!--<div class="form-group">-->
                    <!--<label for="make">Make</label>-->
                    <!--<input class="form-control" id="make" name="make" type="text" value="{{car.make}}" placeholder="Make"/>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--<div class="col-md-6">-->
                    <!--<div class="form-group">-->
                    <!--<label for="model">Model</label>-->
                    <!--<input class="form-control" id="model" name="title" type="text" value="{{car.model}}" placeholder="Model"/>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</div>-->

                    <!--<div class="row">-->
                    <!--<div class="col-md-6">-->
                    <!--<div class="form-group">-->
                    <!--<label for="model">Plate</label>-->
                    <!--<input class="form-control" id="plate" name="title" type="text" value="{{car.plate}}" placeholder="Plate"/>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--<div class="col-md-6">-->
                    <!--<div class="form-group">-->
                    <!--<label for="idColor">Color</label>-->
                    <!--{{> colorSelect}}-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--<hr>-->
                    <!--<div class="row">-->
                    <!--<div class="col-md-6">-->
                    <!--<div class="form-group">-->
                    <!--<input type="submit" value="Submit" class="btn btn-primary submit"/>-->
                    <!--</div>-->
                    <!--</div>-->

                    <!--<div class="col-md-6">-->
                    <!--<div class="form-group col-md-16">-->
                    <!--<a class="btn btn-danger delete" href="#">Delete Car</a>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</form>-->

                </div>

            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</template>
